import"deepmerge";import{set as t,get as e}from"shvl";export default function(r,n,u){function o(t,e,r){try{return(r=e.getItem(t))&&void 0!==r?JSON.parse(r):void 0}catch(t){}}if(n=(r=r||{}).storage||window&&window.localStorage,u=r.key||"vuex",!function(t){try{return t.setItem("@@",1),t.removeItem("@@"),!0}catch(t){}return!1}(n))throw new Error("Invalid storage instance given");return function(i){var c=e(r,"getState",o)(u,n);"object"==typeof c&&null!==c&&i.replaceState(r.arrayMerger||function(t,e){return e}),(r.subscriber||function(t){return function(e){return t.subscribe(e)}})(i)(function(o,i){(r.filter||function(){return!0})(o)&&(r.setState||function(t,e,r){return r.setItem(t,JSON.stringify(e))})(u,(r.reducer||function(r,n){return 0===n.length?r:n.reduce(function(n,u){return t(n,u,e(r,u))},{})})(i,r.paths||[]),n)})}};
//# sourceMappingURL=vuex-persistedstate.es.js.map
